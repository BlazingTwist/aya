{,

  {d::dict dflt,
    {,d:dict dflt:dflt} defaultdict MO
  }:new;

  {index self : t,
    self.dict index N 0 = \; {
      self.dflt_ :t;;
      self.dict index : (t)
      t
    } {
      self.dict.[index]
    } .?
  }:getindex;

}:defaultdict;
